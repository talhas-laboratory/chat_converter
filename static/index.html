<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Converter</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="line-left"></div>
    <div class="container">
        <!-- Header: Logo Only -->
        <header style="text-align: center; margin-bottom: 2rem;">
            <img src="logo_concrete.png" alt="Concrete X Symbol"
                style="width: 100px; height: auto; opacity: 0.9; mix-blend-mode: multiply;">
        </header>

        <main>
            <!-- Input Section -->
            <section class="section-input">

                <form id="format-form">
                    <div class="form-group">
                        <label for="url-input" class="mono-label">:: INPUT_URL</label>
                        <div class="input-row">
                            <input type="url" id="url-input" name="url" placeholder="..." required>
                            <button type="button" id="paste-btn" title="Paste">
                                [ P ]
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="notes-input" class="mono-label">:: META_DATA</label>
                        <textarea id="notes-input" name="notes" placeholder="..." rows="2"></textarea>
                    </div>

                    <button type="submit" id="submit-btn">
                        <span class="btn-text">[ EXECUTE ]</span>
                        <span class="btn-loading" hidden>[ ... ]</span>
                    </button>
                </form>

                <!-- Result Display -->
                <div id="result" class="result" hidden>
                    <div class="result-header">
                        <span class="result-icon">✦</span>
                        <div class="result-info">
                            <h3 id="result-title">Title</h3>
                            <p id="result-meta">00</p>
                        </div>
                    </div>
                    <pre id="result-preview" class="preview"></pre>
                    <a id="result-download" href="#" class="download-btn" download>[ DOWNLOAD ]</a>
                </div>

                <!-- Error Display -->
                <div id="error" class="error" hidden>
                    <span class="error-icon">❌</span>
                    <p id="error-message">An error occurred</p>
                </div>
            </section>

            <!-- Saved Chats Section -->
            <section class="card chats-section">
                <div class="chats-header">
                    <div class="chats-title-row">
                        <h2>Saved Chats</h2>
                        <p id="chats-count" class="chats-count"></p>
                    </div>
                    <div class="chats-controls">
                        <div class="form-group compact">
                            <label for="search-input" class="mono-label">:: SEARCH</label>
                            <input type="text" id="search-input" name="search" placeholder="keywords / phrases">
                        </div>
                        <div class="filter-row">
                            <div class="form-group compact">
                                <label for="platform-filter" class="mono-label">:: PLATFORM</label>
                                <select id="platform-filter" name="platform">
                                    <option value="all">All</option>
                                    <option value="chatgpt">ChatGPT</option>
                                    <option value="gemini">Gemini</option>
                                    <option value="claude">Claude</option>
                                    <option value="unknown">Unknown</option>
                                </select>
                            </div>
                            <div class="form-group compact">
                                <label for="time-filter" class="mono-label">:: TIMEFRAME</label>
                                <select id="time-filter" name="timeframe">
                                    <option value="all">All time</option>
                                    <option value="7d">Last 7 days</option>
                                    <option value="30d">Last 30 days</option>
                                    <option value="90d">Last 90 days</option>
                                    <option value="365d">Last 12 months</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="chats-list" class="chats-list">
                    <p class="empty-state">No saved chats yet</p>
                </div>
            </section>
        </main>

        <footer>
            <p>Accessible via Tailscale • Files saved to <code>output/</code></p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>

</html>
